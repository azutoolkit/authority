{% extends "admin/layout.html" %}
{% set title = "Client Created" %}
{% set active_page = "clients" %}

{% block body %}
<main class="min-h-screen py-12 px-4">
  <div class="max-w-2xl mx-auto">
    <!-- Success Alert -->
    <div class="alert alert-success mb-8">
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      <span>Client "{{client.name}}" was created successfully!</span>
    </div>

    <!-- Warning Alert -->
    <div class="alert alert-warning mb-8">
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
      </svg>
      <div>
        <h3 class="font-bold">Save your client secret now!</h3>
        <p class="text-sm">This secret will only be shown once. Store it securely - you won't be able to see it again.</p>
      </div>
    </div>

    <!-- Credentials Card -->
    <div class="card bg-base-100 shadow-xl">
      <div class="card-body">
        <h2 class="card-title mb-4">Client Credentials</h2>

        <!-- Client ID -->
        <div class="form-control mb-4">
          <label class="label">
            <span class="label-text font-medium">Client ID</span>
          </label>
          <div class="join w-full">
            <input type="text" id="client_id" value="{{client.client_id}}" readonly
                   class="input input-bordered join-item w-full font-mono text-sm" />
            <button type="button" class="btn btn-outline join-item"
                    onclick="navigator.clipboard.writeText(document.getElementById('client_id').value); this.textContent = 'Copied!'; setTimeout(() => this.textContent = 'Copy', 2000)">
              Copy
            </button>
          </div>
        </div>

        <!-- Client Secret -->
        <div class="form-control mb-4">
          <label class="label">
            <span class="label-text font-medium">Client Secret</span>
          </label>
          <div class="join w-full">
            <input type="password" id="client_secret" value="{{plain_secret}}" readonly
                   class="input input-bordered join-item w-full font-mono text-sm" />
            <button type="button" class="btn btn-outline join-item"
                    onclick="const input = document.getElementById('client_secret'); input.type = input.type === 'password' ? 'text' : 'password'; this.textContent = input.type === 'password' ? 'Show' : 'Hide'">
              Show
            </button>
            <button type="button" class="btn btn-outline join-item"
                    onclick="navigator.clipboard.writeText(document.getElementById('client_secret').value); this.textContent = 'Copied!'; setTimeout(() => this.textContent = 'Copy', 2000)">
              Copy
            </button>
          </div>
          <label class="label">
            <span class="label-text-alt text-warning">This secret will not be shown again</span>
          </label>
        </div>

        <div class="divider"></div>

        <!-- Client Details -->
        <div class="space-y-3">
          <div class="flex justify-between">
            <span class="text-base-content/60">Name</span>
            <span class="font-medium">{{client.name}}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-base-content/60">Redirect URI</span>
            <span class="font-medium text-sm">{{client.redirect_uri}}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-base-content/60">Scopes</span>
            <span class="font-medium">{{client.scopes}}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-base-content/60">Type</span>
            <span class="badge {% if client.confidential %}badge-primary{% else %}badge-secondary{% endif %}">
              {% if client.confidential %}Confidential{% else %}Public{% endif %}
            </span>
          </div>
        </div>

        <!-- Actions -->
        <div class="card-actions justify-end mt-6">
          <a href="/dashboard/clients" class="btn btn-primary">Done</a>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %}
